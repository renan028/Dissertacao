\chapter{Introdução}\label{intro}

É certo afirmar que a robótica e sistemas autônomos são cada vez mais explorados
no meio acadêmico e industrial, por serem um desafio multidisciplinar,
financeiramente atrativos, e melhorarem as condições de vida e trabalho do ser
humano. Este trabalho é um estudo de arquiteturas robóticas de sistemas
inteligentes, isto é, sistemas mecânicos autônomos \cite{murphy2000introduction}. 

De acordo com \cite{murphy2000introduction}, um robô inteligente é um sistema
mecânico autônomo, e implica que o sistema não executa ações simples e
repetitivas, ou seja, é o oposto de robôs em linhas de produção, como
manipuladores industriais. ``Sistema mecânico'' implica que o robô não é um
simples computador, mas possui partes mecânicas e pode interagir fisicamente com
o mundo em que está inserido, como mover-se, e modificá-lo. Por último,
``autônomo'' indica que o robô pode operar independentemente, sem a necessidade
de um operador, pode se adaptar a mudanças no ambiente em que está inserido ou
de si mesmo, e ainda alcançar seus objetivos.

Há diversas obras da ficção que são ótimos exemplos de sistemas
robóticos inteligentes, como o ``Exterminador do Futuro'',
``Ava'' de Ex-Machina, e ``Wall-E''. Sistemas desta complexidade ainda não são uma
realidade, mas há esforços na literatura de sistemas complexos humanóides, como
o robô Asimo \cite{sakagami2002intelligent}, e robôs móveis autônomos e
teleoperados espaciais, como o Curiosity da NASA.  Estes sistemas requerem
integração multidisciplinar, como engenharia mecânica, engenharia elétrica,
engenharia eletrônica, engenharia de controle, ciência da computação,
\textit{Machine Learning}, e outras. A autonomia de sistemas é
muitas vezes associado à inteligente artificial e é outra área do conhecimento
que integra o sistema robótico. O estudo de como construir um sistema autônomo
é um estudo dos paradigmas e arquiteturas robóticos.

As arquiteturas robóticas começaram a ser idealizadas
desde 1960, junto com os estudos emergentes de inteligência artificial, e percorreram, durante anos, paradigmas
em sua construção. Não há
paradigma correto ou errado, e o mesmo pode se afirmar para as arquiteturas
robóticas, mas alguns problemas são melhor resolvidos em um paradigma em
relação a outro. Por exemplo, em problemas de cálculo, alguns são resolvidos
facilmente em uma abordagem de coordenadas cartesianas, outros em uma abordagem
de coordenadas polares. Aplicar o paradigma correto a um determinado problema
pode facilitar sua solução, logo o estudo dos paradigmas da inteligência
artificial robótica é a ideia chave para o desenvolvimento de arquiteturas
adequadas aos diversos problemas na construção de sistemas autônomos.

A classe de robôs móveis apresenta diversos desafios, como a locomoção
(atuadores) e mecânica, percepção (sensores) e processamento, teoria de controle, localização,
planejamento de trajetória e navegação, entre outros. Os desafios podem ser
atacados individualmente, e a literatura possui diversos estudos individuais
em relação à localização ou sistemas de locomoção, por exemplo. A integração de
todas as soluções individuais compõe o sistema, e o estudo de sistemas
autônomos é a investigação de como integrar os componentes de software em uma
arquitetura robótica, como fornecer a habilidade de adaptação às possíveis
mudanças do meio e de si, como possibilitar a recuperação de falhas, como criar
um planejamento de locomoção, e como desenvolver uma árvore de tarefas
encadeadas \cite{arkin1998behavior}. Neste trabalho, são analisadas arquiteturas
robóticas de robôs autônomos subaquáticos (AUV), veículos autônomos não-tripulados (UGV), e outros sistemas.

A compreensão das diversas arquiteturas robóticas e a avaliação de casos bem
sucedidos, suas vantagens e desvantagens permitem a análise crítica dos
sistemas e a proposta de modificações e melhoramentos. O autor busca propor uma
implementação das camadas responsáveis pela autonomia de sistemas robóticos em
uma arquitetura híbrida de três camadas. O robô DORIS\footnote{This
work is supported primarily by Petrobras S.A. and Statoil Brazil Oil \& Gas Ltda under contract COPPETEC 0050.0079406.12.9 (ANP-Brazil R\&D Program), and in part by the Brazilian research agencies CNPq
and FAPERJ.}  será o estudo de caso, trata-se de um veículo de inspeção
guiado por trilhos. É desenvolvida uma metodologia para a avaliação de
arquiteturas de mesma complexidade e são realizadas simulações para a
comparação do desempenho.

\section{Motivação}

A motivação deste trabalho é solucionar o problema do desenvolvimento de um
sistema autônomo para a DORIS. A busca da solução se depara com o estudo dos
paradigmas e arquiteturas robóticos. As subseções a seguir tentam motivar esses
aspectos

\subsection{Robô DORIS}\label{doris}

A utilização de robôs na indústria é uma realidade desde 1962, quando o primeiro
robô industrial fez soldagem na fábrica da General Motors
\cite{wallen2008history}.
Desde então, robôs assumiram diferentes aplicações na indústria e suas principais razões para uso
são: redução de custo operacional; manipulação de objetos de dimensão
milimétrica; manipulação de equipamentos nocivos, como substâncias químicas e radioativas; operação em ambiente impróprio para o ser humano, como ambientes explosivos, e
outros.

Os robôs, aos poucos, começaram a sair das fábricas e passaram a ser usados em
aplicações que exigiram o desenvolvimento de uma nova classe de robôs, os robôs
móveis, o que acelerou linhas de pesquisa na área da telerobótica: teleoperação
de robôs. A teleoperação indica a operação de uma máquina à distância, e requer o conjunto: operador,
robô e controle remoto.

As aplicações de robôs móveis teleoperados são diversas, como os veículos
operados remotamente (ROVs) para exploração do fundo do mar, robôs para
desarmamento de bombas, e robôs espaciais, como o Curiosity da NASA. Estes
sistemas teleoperados são também chamados de sistemas semi-autônomos
\cite{siegwart2011introduction}, já que o nível de complexidade da programação
de baixo nível do robô é impossível de ser controlada diretamente por um operador. O ser humano pode realizar a
localização e as atividades cognitivas, mas o esquema de controle embarcado ao
robô é o que provê o controle de movimento. Por exemplo, o veículo subaquático
descrito em \cite{bellingham2008observation} controla os seis propulsores
(atuadores) de maneira automática e estabiliza o robô em águas turbulentas e com correnteza, enquanto o operador
escolhe posições de referência para o robô.

Os níveis de autonomia \cite{huang2005framework} podem ser extrapolados até
veículos completamente autônomos, por exemplo, como em AUVs, o carro autônomo da Google, e robôs já
comerciais, como o Roomba da iRobot para limpeza doméstica. O desenvolvimento de sistemas
autônomos absorve as motivações já citadas, mas os fatores que mais estimulam a
adoção destes sistemas, como exposto em \cite{campbell2010intelligent}, são a
confiabilidade do sistema, a confiança do ser humano no sistema, treinamento e o
conhecimento dos modos de falha. O piloto automático de aviões, por
exemplo, levou tempo até ser aceito, porém o número de variáveis e o risco
motivaram o desenvolvimento de sistemas robustos, confiáveis e autônomos.

DORIS é um robô desenvolvido pela COPPE/UFRJ, em colaboração com Petrobras e
Statoil, para aplicação em tarefas de monitoramento e inspeção de plataformas
\textit{offshore}. O robô é controlado de maneira autônoma ou teleoperado,
permitindo que o operador acompanhe o estado da missão, e monitore a informação
dos sensores. O robô apresenta as seguintes funcionalidades
\cite{carvalho2013doris}:

\begin{itemize}
  \item Detecção de anomalias por vídeo: uso de múltiplas câmeras (luz visível,
  infravermelho, \textit{fisheye} e estéreo) para detectar anomalias, como
  objetos abandonados, fumaça, fogo, intrusos e vazamentos.
  \item Detecção de anomalias por áudio: microfones detectam áudios anômalos,
  como explosões, e realizam diagnóstico de mau funcionamento de máquinas,
  comparando os sons recebidos com assinaturas obtidas previamente.
  \item Detecção de anomalias por vibração: um manipulador com
  sensor de vibração em seu efetuador para inspecionar o funcionamento de máquinas, a partir de
  algoritmos com classificadores de falhas.
  \item Detecção de anomalias por sensor de gás: sensor de hidrocarboneto
  detecta o vazamento de gases.
  \item Mapeamento 3D do ambiente: reconstrução de um ambiente 3D a
  partir de câmeras e Laser.
  \item Detecção de anomalias por temperatura: sensor de
  temperatura e umidade.
  \item Detecção de anomalias por câmera de infravermelho: uma câmera de
  infravermelho pode detectar pessoas, indicar a presença de intrusos ou
  indentificar incêndios.
\end{itemize}

DORIS é um robô móvel que se locomove em um trilho pelo uso de dois
\textit{gimbals}, os quais contêm atuadores e rodas. O robô foi desenvolvido
dentro da filosofia de modularidade, isto é, novos sensores podem ser integrados ao sistema, ou até
um novo módulo do robô pode ser adicionado, a fim de melhorar seu desempenho
dentro do escopo da aplicação de inspeção. Isso exige a
flexibilidade e modularidade do sistema mecânico, software e sistema
elétrico/eletrônico.

O sistema é alimentado por quatro baterias, composto por um computador
embarcado com processador de alto desempenho e memória, e um \textit{solid-state drive} para armazenamento. Possui
comunicações: Wireless IEEE 802.11n com a base (operador); \textit{Controller
Area Network} (CAN) entre computador embarcado e drivers dos atuadores; rede \textit{Local
Gigabit Ethernet} para os diversos componentes internos do robô; e rádio 2.4/5.0
GHz para emergência. Possui atuadores: quatro motores 200 W EC-4pole para
locomoção; e quatro motores para as juntas do manipulador. Sensores:
câmera fixa; câmera térmica; câmera \textit{fisheye}; duas webcams; e uma
\textit{Inertial Measurement Unit} (IMU). Além disso, há um
sistema eletrônico de suporte de veículo, chamado \textit{Vehicle Support
System (VSS)} \cite{freitas2015embedded}, capaz de detectar falhas eletrônicas,
distribuir energia de maneira ótima entre os componentes e proteger o robô em
situações emergenciais.

O VSS possui funções que independem do software e da arquitetura robótica, são
considerados de alto risco e, portanto, não estão disponíveis para
programador e usuário. Em detalhes, as funções do VSS são:
\begin{itemize}
  \item Detecção de falhas: em dispositivos, pelo monitoramento de
  corrente/tensão; no módulo, pela verificação de temperatura/umidade;
  \item Proteção de dispositivos contra sobrecorrente graças a fusíveis;
  \item Distribuição ótima de energia e monitoramento de baterias;
  \item Botão de emergência para desligamento manual ou via rádio.
\end{itemize}

O trilho por onde o robô se desloca é construído a partir de tubos de
policloreto de polivinila (PVC) e possui seções retas, curvas ortogonais de
subida, descida, para a direita e para a esquerda. Os segmentos curvos são tubos
de 1 m dobrados $90^o$, resultando em curvaturas de aproximadamente 630 mm. Um
trilho para testes foi construído no Centro de Pesquisas e Desenvolvimento
Leopoldo Américo Miguez de Mello (CENPES) e sua extensão é cerca de 140 m. As
Figuras~\ref{doris} e \ref{cenpes} ilustram o robô, o trilho e o ambiente em que trabalha.

\begin{figure}[!ht]
\centering
\includegraphics[width=.8\columnwidth]{figs/DORIS/2_1.png}
\caption{Sistema robótico em trilho.}
\label{doris}
\end{figure}

\begin{figure}[!ht]
\centering
\includegraphics[width=.8\columnwidth]{figs/DORIS/doris.JPG}
\caption{A DORIS no CENPES.}
\label{cenpes}
\end{figure}

Além dos diversos desafios que o robô apresenta, em diversas áreas do
conhecimento, o sistema deve ser capaz de receber missões de um operador e, em
vez de executá-la por teleoperação, deverá efetuá-la de maneira autônoma.

\subsection{Arquiteturas robóticas}

Para entendermos a importância de uma arquitetura, considere o problema
de construção de uma casa ou um carro. Não há um projeto certo para uma
casa, porém a maioria das casas possuem os mesmos componentes: cozinha, banheiro, paredes, chão, portas e
outros. Isto é similar ao exemplo de carros. Produzidos por diferentes
fabricantes, todos os tipos de motores de combustão interna possuem os mesmos
componentes básicos, porém os carros são diferentes. 

Voltando ao conceito de paradigma, a combustão interna e
carros elétricos são dois paradigmas, e dentro da classe dos veículos à
combustão cada fabricante possui a sua própria arquitetura. Os fabricantes podem realizar algumas pequenas modificações para carros do tipo sedan, conversível,
sport e etc, para suprimir algumas opções desnecessárias, mas cada estilo de
carro é uma instância particular da arquitetura do fabricante
\cite{murphy2000introduction}.

Os exemplos acima são analogias semelhantes à construção de robôs. Há
diversas maneiras de organizar seus componentes, mesmo que o
projeto siga o mesmo paradigma. Dessa forma, o ponto principal é: ao estudarmos
arquiteturas robóticas e como suas instâncias são usadas para uma determinada
aplicação, podemos aprender as diferentes formas que os componentes e ferramentas
associados a um paradigma podem ser usados para a construção de uma
inteligência artificial robótica. O estudo de sistemas inteligentes requer,
portanto, o estudo das arquiteturas robóticas.

\section{Objetivo}

O objetivo deste trabalho é a implementação de um sistema
robótico autônomo e a descrição de uma metodologia para o desenvolvimento de uma arquitetura híbrida
de três camadas. O estudo de caso para esta dissertação é o sistema robótico
DORIS, robô \textit{offshore} para inspeção em plataformas de petróleo. 

\section{Metodologia}

A metodologia para alcançar o objetivo proposto passa pelas seguintes etapas:
estudo dos paradigmas da robótica; estudo de arquiteturas robóticas e suas
aplicações; pesquisa do estado da arte de ambientes de desenvolvimento
robóticos; análise crítica e solução proposta; desenvolvimento da metodologia de avaliação; testes e resultados.

Os três paradigmas da robótica e as arquiteturas robóticas são bem contemplados
na literatura e há diversos textos acadêmicos que os exploram: paradigma deliberativo, reativo, e
deliberativo/reativo. O estudo da evolução dos paradigmas é o primeiro passo
para a construção de um sistema autônomo para os robôs. A metodologia utilizada
nesta revisão bibliográfica buscou estudar as arquiteturas e aplicações
pioneiras, as arquiteturas de transição (intermediárias cronologicamente), e as
mais atuais.

Após explorar os paradigmas e arquiteturas robóticos e definir a mais
apropriada para o estudo de caso, faz-se necessário investigar os ambientes de
desenvolvimento robóticos (RDEs), ferramentas que facilitam a implementação da
arquitetura. Há diversos disponíveis, portanto suas vantagens e
desvantagens devem ser avaliadas. O estudo de RDEs pode proporcionar a utilização de um extenso
repositório criado pela academia, facilitando e divulgando novos pacotes
de software para robôs.

A análise crítica das arquiteturas e os RDEs, visando a aplicação, possibilita a
implementação da arquitetura robótica proposta. O estudo de caso é introduzido e
a solução é desenvolvida tomando-o como exemplo. É criada uma metodologia de
avaliação da arquitetura, com base em alguns roboticistas, e critérios para
avaliar a implementação, por simulações ou testes exaustivos no robô.



\section{Organização da dissertação}

O capítulo~\ref{bibliografia} faz uma revisão bibliográfica, apresentando
conceitos básicos da literatura necessários para o entendimento da dissertação,
desenvolvendo novos conceitos pela visão do autor, estudando os paradigmas da
robótica, a evolução das arquiteturas robóticas, e casos de robôs com análises
críticas. 

O capítulo~\ref{arquipro} faz uma proposta de implementação de arquitetura
robótica, apresenta o robô DORIS, estudo de caso deste trabalho, e detalha a
implementação da arquitetura para o robô.

O capítulo~\ref{result} propõe uma metodologia de avaliação, realiza simulações
e testes, e analisa a implementação realizada para a arquitetura robótica do
capítulo antetior pelos critérios estabelecidos.

Por fim, o capítulo~\ref{conclusao} conclui o estudo, faz uma análise crítica do
desenvolvimento e propõe trabalhos futuros no tópico.
